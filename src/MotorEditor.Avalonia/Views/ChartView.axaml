<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:vm="using:CurveEditor.ViewModels"
             xmlns:lvc="using:LiveChartsCore.SkiaSharpView.Avalonia"
             mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="500"
             x:Class="CurveEditor.Views.ChartView"
             x:DataType="vm:ChartViewModel">
    
    <Design.DataContext>
        <vm:ChartViewModel/>
    </Design.DataContext>
    
    <Grid>
        <!-- Chart -->
        <lvc:CartesianChart
            x:Name="TorqueChart"
            Series="{Binding Series}"
            XAxes="{Binding XAxes}"
            YAxes="{Binding YAxes}"
            TooltipPosition="Top"
            ZoomMode="None"
            AnimationsSpeed="00:00:00.000">
            <lvc:CartesianChart.TooltipBackgroundPaint>
                <lvc:SolidColorPaint Color="#F5F5F5" />
            </lvc:CartesianChart.TooltipBackgroundPaint>
            <lvc:CartesianChart.TooltipTextPaint>
                <lvc:SolidColorPaint Color="#333333" />
            </lvc:CartesianChart.TooltipTextPaint>
            
            <!--
                Minimal point-highlighting: the ChartViewModel exposes
                IsPointHighlighted(seriesName, index). LiveCharts does not
                support per-point templates directly in XAML bindings, but
                raising PropertyChanged for Series when selection changes
                allows the chart to be redrawn with any style changes that
                may be applied in code. The visual differentiation itself is
                kept subtle and is implemented in ChartViewModel by adjusting
                GeometrySize/GeometryFill for highlighted points when the
                highlighted index map changes.
            -->
        </lvc:CartesianChart>
        
        <!-- Title Overlay -->
        <TextBlock Text="{Binding Title}"
                   FontSize="16"
                   FontWeight="SemiBold"
                   Foreground="Gray"
                   HorizontalAlignment="Center"
                   VerticalAlignment="Top"
                   Margin="0,10,0,0"
                   IsHitTestVisible="False"/>
    </Grid>
</UserControl>
